<!doctype html>
<html class="no-js" lang="en">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Permissions-Policy" content="interest-cohort=()"/>
        <link rel="stylesheet" href="https://wsbctechnicalblog.github.io/theme/css/foundation.min.css" media="all">
        <script type="text/javascript" src="https://wsbctechnicalblog.github.io/theme/js/modernizr.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Exo+2:400,300,700,300italic,400italic,700italic,900,900italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://wsbctechnicalblog.github.io/theme/css/lamboz.css" media="all">
        <title>Part 1: Pipelines - Why bother and what are our nightmares and options? - </title>
        <meta charset="utf-8" />
        
</head>
<body>
    <div class="pages">
        <ul>
            <li class="home"><a href="https://wsbctechnicalblog.github.io/index.html">Home</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/about.html">About</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/authors.html">Authors</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/copyright.html">Copyright</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/privacy.html">Privacy and Security</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/terms-of-use.html">Terms of Use</a></li>
        </ul>
    </div>
<div class="hp-header-inner">
    <div class="page-header">
        <div class="content-header">
        </div>
    </div>
</div>
    <div class="content">
        <div class="data-holder">
        <div class="row">
           <div class="large-10 content-column column">
    <h1 style="font-size:2em;"><a href="https://wsbctechnicalblog.github.io/why-pipelines-part1.html" rel="bookmark"
            title="Permalink to Part 1: Pipelines - Why bother and what are our nightmares and options?">Part 1: Pipelines - Why bother and what are our nightmares and options?</a></h1>

<img src="/theme/img/Logo-blogsize.png"><br />
<div class="content-article">
    <header class="header-article">
        <div class="read-more">Posted by Willy-Peter Schaub on Sat 19 December 2020</div>
 
   </header>
    <section class='article'>
        
        <div class="entry-summary">
            <p>Pipelines enable engineering to continuously deliver value, map and improve their processes and workflows, promoting consistency and reliability across the organisation.</p>
        </div>
    
        <div class="entry-content">
            <p>In this series we are going to invite you on our journey of grappling with hundreds of inconsistent and often conflicting continuous delivery pipelines, to evolving to unified pipelines, template-driven pipelines, and eventually self-service automation. We will break down our journey into these multiple parts:</p>
<ul>
<li>Part 1: Pipelines - Why bother and what are our nightmares and options? (this)</li>
<li><a href="/yaml-pipelines-part2.html">Part 2: Pipelines - Introduction, variables and why spaces matter</a></li>
<li><a href="/yaml-pipelines-part3.html">Part 3: Pipelines - Basic building blocks as templates and sprinkling on telemetry</a></li>
<li><a href="/yaml-pipelines-part4.html">Part 4: Pipelines - Magic of queue time assembly</a></li>
<li><a href="/yaml-pipelines-part5.html">Part 5: Pipelines - Blueprints to fuel consistency and enablement</a></li>
<li><a href="/yaml-pipelines-part6.html">Part 6: Pipelines - Gotcha! The generic blueprint-based YAML pipeline simplicity</a></li>
<li><a href="/yaml-pipelines-part7.html">Part 7: Pipelines - There is more! Simplicity and enablement, courtesy of the app-type blueprint-based YAML pipelines</a></li>
<li><a href="/yaml-pipelines-part8.html">Part 8: Pipelines - From CI to CD and beyond in one pipeline</a></li>
<li><a href="/yaml-pipelines-part9.html">Part 9: Self-service automation - A dream turns into reality</a></li>
<li><a href="/yaml-pipelines-part10.html">Part 10: Pipelines - Meet our second generation app-type blueprints</a></li>
<li><a href="/yaml-pipelines-part11.html">Part 11: Our road to OSS Blueprints - Suppress CD when pipeline runs within PR</a> |</li>
</ul>
<p>Other pipeline posts:</p>
<ul>
<li><a href="/experiment-yaml-1.html">Azure DevOps Experimentation - YAML Conditionals, Parameters, and Triggers</a></li>
<li><a href="/sharing-variables-amongst-agents.html">How to share variables amongst Azure Pipeline agents</a></li>
<li><a href="/pipelines-as-code-pr.html">Pipeline-as-code wrapped with Pull Requests</a></li>
<li><a href="/sharing-variables-with-stages-and-jobs.html">Gotchas when share variables with Azure DevOps stages and jobs</a></li>
<li><a href="/why-we-care-about-iac.html">Why do we care about infrastrucure-as-code (IaC)?</a></li>
</ul>
<p>Pipeline quick reference poster posts:</p>
<ul>
<li><a href="/moving-hundreds-of-pipeline-snowflakes-qr-2.html">Quick Reference Sheet for Application-type Blueprint-based Pipelines</a></li>
<li><a href="/moving-hundreds-of-pipeline-snowflakes-qr-3.html">Quick Reference Sheet for Pipeline Terminology</a></li>
<li><a href="/moving-hundreds-of-pipeline-snowflakes-qr-1.html">Quick Reference Sheet for YAML and Generic Blueprint-based Pipelines</a></li>
</ul>
<hr>
<h1>Why Pipelines?</h1>
<blockquote>
<p><em>"Continuous Delivery Pipeline Value Stream Mapping The Continuous Delivery Pipeline (CDP) represents the workflows, activities, and automation needed to shepherd a new piece of functionality from ideation to an on-demand release of value to the end user."</em> - Â© Scaled Agile, Inc.</p>
</blockquote>
<p>As alluded to by the quote from Scaled Agile, we are not talking about pipelines to carry oil, but pipelines that help us automate continuous integration and delivery tasks. Examples include the automation of guardrail automations, such as SonarQube, WhiteSource, and Building Code scans and validations.</p>
<p><img alt="CICD Pipeline" src="/images/moving-hundreds-of-pipeline-snowflakes-part1-1.png"></p>
<p>Pipelines enable engineering to continuously deliver value, map and improve their processes and workflows, promoting consistency and reliability across the organisation.</p>
<h1>Snowflakes</h1>
<p>A healthy DevOps mindset promotes the line of autonomy. Above the line the organization defines its vision and governance to ensure alignment with regulatory, legal, and other requirements. Below the line the engineering teams own their process, with full autonomy to plan WHO, WHEN, and HOW they will accomplish their work.</p>
<p>If, however, there is a lack of blueprints, design practices, and governance, each team will design and develop their pipelines slightly differently. </p>
<p>The outcome are unique <strong>snowflakes</strong> that promote rapid evolution (positive) and a diversity of pipelines that can become hard to maintain, support, and innovate (negative).</p>
<p><img alt="CICD Pipeline" src="/images/moving-hundreds-of-pipeline-snowflakes-part1-2.jpg"></p>
<p>With hundreds of continuous delivery pipelines the <strong>Sec</strong> and <strong>Ops</strong> in DevSecOps began to buckle detecting and fixing vulnerabilities and other guardrail leaks.</p>
<h1>Emergence of Unified Pipelines</h1>
<p>In 2018 we decided to grab the pipelines by their valves to tackle the spread of unique pipeline patterns by defining an <strong>Unified</strong> <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/get-started/what-is-azure-pipelines?view=azure-devops#:~:text=%20Does%20Azure%20Pipelines%20work%20with%20my%20language,code%20to%20multiple%20targets.%20Targets%20include...%20More%20">Azure Pipeline</a> design pattern. The pattern promoted the following principles:</p>
<ul>
<li>Automate everything automatable</li>
<li>Build once</li>
</ul>
<blockquote>
<p>We encourage engineering teams to create a <strong>release</strong> build artifact, with debug symbols published to our symbol server.</p>
</blockquote>
<ul>
<li>Continuous integration and delivery</li>
<li>Continuous streamlining and improvement</li>
<li>Maintain one build definition</li>
</ul>
<blockquote>
<p>Instead of a developer and release pipeline, create <strong>one</strong> unified pipeline that locks down the higher environments.</p>
</blockquote>
<ul>
<li>Maintain one release pipeline definition</li>
<li>Scan for vulnerabilities early, often, and fail fast</li>
<li>Streamlined approvals</li>
</ul>
<blockquote>
<p>By optimising our approvals, we cut down on the complexity and delay, we inherited from previous years, decades, ... </p>
</blockquote>
<ul>
<li>Test early, often, and fail fast</li>
<li>Traceability and observability of releases</li>
</ul>
<blockquote>
<p>Nobody wants a <em>"where did this build come from"</em> treasure hunt when joining a 2AM incident call.</p>
</blockquote>
<p>What followed was a mind-numbing and expensive era of aligning all snowflakes to the unified design pattern, using the Azure Pipelines GUI editor to manipulate the pipeline json-based configuration. Even though we are using re-usable <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/library/task-groups?view=azure-devops#:~:text=In%20Azure%20Pipelines%2C%20you%20can%20version%20your%20own,is%20appended%20to%20the%20task%20group%20version%20number.">Task Groups</a> and <a href="https://docs.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups?view=azure-devops&amp;tabs=yaml">Variable Groups</a> we had to invest thousands of error-prone clicks - there has to be a better way!?!</p>
<p>We managed to persue our goals of <strong>aligning</strong> with architecture and security guardrails; <strong>consistency</strong> through design practices, automation, and collaboration; <strong>simplicity</strong> to create maintainable pipelines; and <strong>enabling</strong> and <strong>empowering</strong> our common engineering system.</p>
<h1>Hackathon triggers a course change</h1>
<p>A radical hackathon idea in 2019 investigated latest technology trends that promised pipeline-as-code, templates, and other facinating features that promise to enable our ultimate goal of self-service automation. Our hackathon idea was not amongst the winners, but is one of the few ideas that continued to simmer and change the world of our continuous delivery pipelines.</p>
<p>It triggered a pipeline working group, awareness workshops, and even four laptop stickers to highlight unified pipeline, multi-stage, CI+CD, and self-service automation champions.</p>
<p><img alt="CICD Pipeline" src="/images/moving-hundreds-of-pipeline-snowflakes-part1-3.png"></p>
<p>Welcome YAML based pipelines, which we will introduce in <a href="/yaml-pipelines-part2.html">part 2</a> of this series.</p>
<hr>
<blockquote>
<p>Series Bread Crumbs | Part 1, TOC | <a href="/yaml-pipelines-part2.html">Part 2</a> | <a href="/yaml-pipelines-part3.html">Part 3</a> | <a href="/yaml-pipelines-part4.html">Part 4</a> | <a href="/yaml-pipelines-part5.html">Part 5</a> | <a href="/yaml-pipelines-part6.html">Part 6</a> | <a href="/yaml-pipelines-part7.html">Part 7</a> | <a href="/yaml-pipelines-part8.html">Part 8</a> | <a href="/yaml-pipelines-part9.html">Part 9</a> | <a href="/yaml-pipelines-part10.html">Part 10</a> | <a href="/yaml-pipelines-part11.html">Part 11</a> |</p>
</blockquote>
        </div>

    </section>
    <footer class="footer-article">
        <div class="tags-and-categories">Filed under <a href="https://wsbctechnicalblog.github.io/category/posts.html">Posts</a>
        | Tagged: <a href="https://wsbctechnicalblog.github.io/tag/azure-devops.html">azure-devops </a><a href="https://wsbctechnicalblog.github.io/tag/devops.html">devops </a><a href="https://wsbctechnicalblog.github.io/tag/pipelines.html">pipelines </a>
        | <a href="https://wsbctechnicalblog.github.io/why-pipelines-part1.html" rel="bookmark"
         title="Permalink to Part 1: Pipelines - Why bother and what are our nightmares and options?">Permalink</a>            
        </div>
        <!-- metaldata 
        -->
    </footer>
        <hr>
        <div id="gisqus_thread"></div>
        <script src="https://giscus.app/client.js"
            data-repo="WorkSafeBC-Common-Engineering/Common.Engineering.Discussion"
            data-repo-id="R_kgDOIGjt-Q"
            data-category="Technical Blog"
            data-category-id="DIC_kwDOIGjt-c4CU007"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="light"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
        </script></div>
            </div>
            <div class="large-2 aside column">
                <h3>Links</h3>
                <ul>
                    <li><a href="https://www.worksafebc.com/en">WorkSafeBC</a></li>
                    <li><a href="https://www.worksafebc.com/en/about-us/news-events/campaigns/2019/September/connect-to-an-it-career-with-a-difference">WorkSafeBC IT is hiring</a></li>
                    <li><a href="https://www.worksafebc.com/en/about-us/careers">Careers</a></li>
                    <li><a href="https://wsbctechnicalblog.github.io/feeds/posts.atom.xml">ATOM/RSS Feed</a></li>
                </ul>
            </div>
         </div>
    </div>
</div>
    <div class="footer">
        <div class="data-holder">
        <div class="row">
            <div class="large-3 column">
<div class="credits">
    <h3>WorkSafeBC</h3>
    <p><a href="/pages/copyright.html">Copyright</a>&nbsp;|<br /><a href="/pages/terms-of-use.html">Terms&nbsp;and&nbsp;Conditions</a></p>
</div>           </div>
           <div class="large-6 tag-cloud column">
                <h3>Tags</h3>
                <ul>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/engineering.html">engineering</a>(49)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/technical-excellence.html">technical-excellence</a>(18)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/event.html">event</a>(10)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/azure-devops.html">azure-devops</a>(80)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/automation.html">automation</a>(22)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/learning.html">learning</a>(52)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/posters.html">posters</a>(11)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/agile.html">agile</a>(35)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/ai.html">ai</a>(17)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/devops.html">devops</a>(52)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/journal.html">journal</a>(8)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/pipelines.html">pipelines</a>(53)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/101.html">101</a>(8)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/eliminate-waste.html">eliminate-waste</a>(24)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/ceremony.html">ceremony</a>(8)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/quality.html">quality</a>(19)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/tips.html">tips</a>(28)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/code-quality.html">code-quality</a>(13)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/oss.html">oss</a>(6)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/github.html">github</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/code.html">code</a>(25)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/standards.html">standards</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/azure.html">azure</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/water-cooler.html">water-cooler</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/innovation.html">innovation</a>(7)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/design.html">design</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/testing.html">testing</a>(15)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/release.html">release</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/x-as-code.html">x-as-code</a>(16)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/book.html">book</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/version-control.html">version-control</a>(4)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/metrics.html">metrics</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/continuous-delivery.html">continuous-delivery</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/delivery-on-demand.html">delivery-on-demand</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/architecture.html">architecture</a>(5)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/collaboration.html">collaboration</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/team-building.html">team-building</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/no-estimates.html">no-estimates</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/tdd.html">TDD</a>(12)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/estimates.html">estimates</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/strategy.html">strategy</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/planning.html">planning</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/value.html">value</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/process.html">process</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/flow.html">flow</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/lean.html">lean</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/customer-centric.html">customer-centric</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/psychological-safety.html">psychological-safety</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/dojo.html">dojo</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/testability.html">testability</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/system-programming.html">system-programming</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/xp.html">xp</a>(5)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/events.html">events</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/security.html">security</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/feature-flags.html">feature-flags</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/workflow.html">workflow</a>(1)</li>
                </ul>
            </div>
            <div class="large-3 category-column column">
                <h3>Categories</h3>
                <ul>
                    <li><a href="https://wsbctechnicalblog.github.io/category/events.html">Events</a> (10)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/category/misc.html">misc</a> (2)</li>
                    <li class="active"><a href="https://wsbctechnicalblog.github.io/category/posts.html">Posts</a> (206)</li>
                </ul>
             
            </div>
        </row>
        </div>
    </div>
</body>
</html>