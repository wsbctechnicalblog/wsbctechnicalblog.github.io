<!doctype html>
<html class="no-js" lang="en">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/theme/css/foundation.min.css" media="all">
        <script type="text/javascript" src="/theme/js/modernizr.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Exo+2:400,300,700,300italic,400italic,700italic,900,900italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/lamboz.css" media="all">
        <title>Why we should (not) care about Pipelines!?! - </title>
        <meta charset="utf-8" />
        
</head>
<body>
    <div class="pages">
        <ul>
            <li class="home"><a href="/index.html">Home</a></li>
            <li ><a href="/pages/about.html">About</a></li>
            <li ><a href="/pages/authors.html">Authors</a></li>
            <li ><a href="/pages/copyright.html">Copyright</a></li>
            <li ><a href="/pages/privacy.html">Privacy and Security</a></li>
            <li ><a href="/pages/terms-of-use.html">Terms of Use</a></li>
        </ul>
    </div>
<div class="hp-header-inner">
    <div class="page-header">
        <div class="content-header">
        </div>
    </div>
</div>
    <div class="content">
        <div class="data-holder">
        <div class="row">
           <div class="large-10 content-column column">
    <h1 style="font-size:2em;"><a href="/meetup-devops-meetup-wsbc-pipeline-story.html" rel="bookmark"
            title="Permalink to Why we should (not) care about Pipelines!?!">Why we should (not) care about Pipelines!?!</a></h1>

<img src="/theme/img/Logo-blogsize.png"><br />
<div class="content-article">
    <header class="header-article">
        <div class="read-more">Posted by Willy-Peter Schaub on Mon 21 June 2021</div>
 
   </header>
    <section class='article'>
        
        <div class="entry-summary">
            <p>Enabling engineering to continuously build, validate, and deploy secure solutions to delight our customers</p>
        </div>
    
        <div class="entry-content">
            <p>On Tuesday, <a href="https://www.meetup.com/DevOps-Vancouver-BC-Canada/events/278727555/">June 15th 2021</a>, we picked-up where we left off with the “Common Engineering System at WorkSafeBC“ session, on the <a href="https://www.meetup.com/DevOps-Vancouver-BC-Canada/events/270150093/">April 2020</a> meetup.</p>
<blockquote>
<p><img alt="INTRO" src="/images/meetup-devops-meetup-wsbc-pipeline-story-intro-1.png"></p>
</blockquote>
<p>We shared our insight into our ambitious journey to consolidate hundreds of inconsistent continuous delivery pipeline snowflakes into state-of-the-art pipeline-as-code, based on YAML and re-usable templates. Here is our story!</p>
<h1>WHY?</h1>
<blockquote>
<p><img alt="WHY" src="/images/meetup-devops-meetup-wsbc-pipeline-story-why-2a.png"></p>
</blockquote>
<p><a href="https://www.donovanbrown.com/post/what-is-devops">Donovan Brown</a> defines DevOps as the “the union of PEOPLE, PROCESS and PRODUCTS to enable the <strong>continuous</strong> delivery of value to our CUSTOMERS”. The word <strong>continuous</strong> in Donovan's statement implies that we <strong>automate everything automatable</strong>, move repetitive tasks to machines, and enable engineering to focus on delighting our customers with features. </p>
<blockquote>
<p><img alt="WHY" src="/images/meetup-devops-meetup-wsbc-pipeline-story-why-2b.png"></p>
</blockquote>
<p>In addition, the <a href="https://www.tactec.ca/ndtw-resources/">agents of chaos</a> created guardrails defined by five essential values for the DevOps mindset. One of the values encourages us to innovate and improve beyond repeatable processes by <strong>reducing waste</strong> and not doing things with no value or purpose.</p>
<p>As alluded to by the checklist we built up during the session, we are not talking about pipelines to carry oil, but an enabler to automate continuous integration and delivery tasks. We embraced the Azure Pipelines years ago and standardized on what we refer to as the unified pipeline guardrail. It helped us build once, deploy the same build artifact to different environments, and streamline our manual approvals.</p>
<blockquote>
<p><img alt="WHY" src="/images/meetup-devops-meetup-wsbc-pipeline-story-why-2c.png"></p>
</blockquote>
<p>We were in technology heaven, until our automated weekly pipeline reports unearthed a scary and unnerving reality. Over 3000 pipeline definitions, growing at an alarming rate, and creating a pile of costly technical debt. Autonomy inspired a variety of snowflakes, some of which introduced vulnerabilities, and more recently, a growing number of release rejections due to security review failures.</p>
<p>We also picked up that Microsoft began referring to the user interface based Azure Pipelines as <strong>classic</strong> and stopped investing in the technology. As the classic and deprecated rot was setting in, we started to experiment with YAML-based Azure Pipelines in two consecutive hackathon events. We did not catch the attention of business and won no prize but embarked on an exciting pipeline journey with ambitious goals: alignment, consistency, simplicity, security, flexibility, and transparency.</p>
<blockquote>
<p>Read <a href="/yaml-pipelines-part1.html">Part 1: Pipelines - Why bother and what are our nightmares and options?</a> for more details.</p>
</blockquote>
<hr>
<h1>WHAT?</h1>
<blockquote>
<p><img alt="WHAT.1" src="/images/meetup-devops-meetup-wsbc-pipeline-story-what-3a.png"></p>
</blockquote>
<p>We fell in love with the potential of new YAML-based Azure Pipelines, based on a mature and human readable data serialization, originally proposed by Clark Evans in 2001. </p>
<blockquote>
<p>YAML is often referred to as “yet another markup language” and “YAML ain’t markup language.</p>
</blockquote>
<p>Azure DevOps YAML pipelines are structurally YAML. Microsoft introduced no deviation or snowflake and forked the Azure DevOps pipeline repository to build their GitHub pipelines. Like applying a protective anti-rust coating on our Azure DevOps pipelines and opening exciting coexistence and future migration opportunities.</p>
<p>Our pipeline working group switched their focus on <strong>pipeline as code</strong>, a term introduced by <a href="https://www.jenkins.io/doc/book/pipeline-as-code/">Jenkins</a>. It is a technique that treats the pipeline configuration as code, placed under version control, packaged in reusable components, and automated deployment and testing. Comparable to infrastructure as code and the golden fleece for our pipeline adventure.</p>
<p>Pipeline as code enables us in many ways:</p>
<ul>
<li>All pipeline artifacts are placed in source control repositories, which can be viewed by all our engineers. There are no secrets! </li>
<li>Tick off one of our goals, <strong>transparency</strong>, a core ingredient to Agile and Lean development, as well as a healthy DevOps mindset. It fosters <strong>TRUST</strong>. </li>
<li>Allow our engineers to contribute to our common engineering system by submitting pipeline changes and innovations through the pull request workflow. We are <strong>centralizing</strong>, not standardizing, and enable engineers by injecting re-usable templates.</li>
</ul>
<blockquote>
<p><img alt="WHAT.1" src="/images/meetup-devops-meetup-wsbc-pipeline-story-what-3b.png"></p>
</blockquote>
<p>During the hackathons and subsequent proof-of-concepts we highlighted not only the <strong>risk</strong> of rotting technology, but engineering distractions and focus on waste, instead of <strong>value</strong>. For example, a typical YAML-based CI pipeline for an Azure Function requires 300 lines of code. With 927 continuous integration build pipelines, this amounts to a mere 278,100 lines of code that engineering need to craft. More than Photoshop 1.0 and just less than the Quake 3 engine. In my humble opinion, a huge pile of <strong>WASTE</strong>.</p>
<p>Our first-generation generic blueprint-based pipelines reduced this to 113,094 lines of CI code and to 25,956 lines of CI/CD code using our second-generation app-type blueprint-based pipelines. Read parts <a href="/yaml-pipelines-part3.html">Part 3: Pipelines - Basic building blocks as templates and sprinkling on telemetry</a>, <a href="/yaml-pipelines-part4.html">Part 4: Pipelines - Magic of queue time assembly</a>, <a href="/yaml-pipelines-part5.html">Part 5: Pipelines - Blueprints to fuel consistency and enablement</a>, and <a href="/yaml-pipelines-part6.html">Part 6: Pipelines - Gotcha! The generic blueprint-based YAML pipeline simplicity</a> of our pipeline series on our technical WorkSafeBC blog for more information.</p>
<p>Templates allow us to define reusable CI and CD tasks, keeping our main pipeline definitions razor focused. They enable us to script and assemble pipelines at “queue” time. And most important, instead of editing hundreds of classic pipelines in a GUI editor, which can be mind numbing and error prone, we edit one template to make a change such changing guardrails. Once the template is saved, the change is automatically injected into all pipelines queued thereafter. </p>
<p><strong>MAGIC!</strong></p>
<blockquote>
<p>For details on our 1st generation blueprints, read <a href="/yaml-pipelines-part7.html">Part 7: Pipelines - There is more! Simplicity and enablement, courtesy of the app-type blueprint-based YAML pipelines</a>.</p>
</blockquote>
<p>As a software developer, do I want to own, for example create and maintain, the pipelines to build and deploy my application? </p>
<p>After more than 36 years of engineering software solutions, my answer is <strong>NO</strong>. I will be glad to let another team take that responsibility while I focus on creating value for the business by delivering quality software. I just want access to the build pipeline templates and an ability to suggest changes, so that I can <strong>learn</strong>, <strong>innovate</strong>, and <strong>troubleshoot</strong> issues, if any.</p>
<p>The 1st generation app-type blueprints introduced re-usable application type continuous integration blueprints, which typically required me to update 2-3 lines of configuration and I am done with my pipeline.</p>
<p>Some of the fairy dust is the <strong>extend template</strong> feature in the YAML-based Azure Pipelines. It allows us to verify that a pipeline is based on a known and trusted template. If not, it is automatically rejected by service connections and/or environment checkpoints - at run time, with zero humanoid intervention.</p>
<p>But, you guessed it, there is more.</p>
<blockquote>
<p><img alt="WHAT.2" src="/images/meetup-devops-meetup-wsbc-pipeline-story-what-3c.png"></p>
</blockquote>
<p>If you read <a href="/yaml-pipelines-part8.html">Part 8: Pipelines - Pipelines - From CI to CD and beyond in one pipeline</a> of pipeline series, on our technical WorkSafeBC blog, you will be amazed with our 2nd generation app-type blueprints, which are in <strong>early preview</strong> in two of our engineering environments.</p>
<p>The 2nd generation adds the same magic we discussed for continuous integration, to the continuous deployment. Thanks to pipeline as code and the way we have structured our pipelines and template repository, all engineers can review all templates, and submit improvements via a pull request. If the proposed change is within our guardrails the pipeline working group <strong>innovates</strong>. If not, we collaborate with engineering and DevSecOps, occasionally terminating the pull request with “Kevin said so.” More about that in a minute.</p>
<p>We have not realized our dream for <strong>self-service automation</strong> yet. However, we have reached a stage where our blueprint-based pipelines are automation enablers, consistent, and simple. Furthermore, our pipeline working group is collaborating with the automation working group to realise our“Hello world in less than 1min”, aka walking skeleton, goal. </p>
<blockquote>
<p>Would you prefer working in a manual humanoid driven world, or in an automated humanoid enabled world?</p>
<p><img alt="WHAT.2" src="/images/meetup-devops-meetup-wsbc-pipeline-story-what-3d.png"></p>
</blockquote>
<p>Looking at the quick poll results (slide 21) from Twitter and LinkedIN I am astounded at the percentage of engineers who tolerate hours to days to get a "walking skeleton" created for them. When I combine the two polls, an average of 33% are experiencing <strong>hours</strong> and another 36% <strong>days</strong>. That adds up to <strong>69%</strong> ... I am gob smacked and shocked! I hope that we can come back to continue this session to share the success stories from our automation working group.</p>
<hr>
<h1>HOW</h1>
<p>HOW we managed, and at times battled, to grok the intricacies of YAML, evolve the emerging application-type blueprint-based pipelines, and enable automation was beyond the scope of this session and we deferred the <strong>HOW</strong> for another day. Instead we shifted our focus to get a view through a software development engineer's and security engineer's lens.</p>
<blockquote>
<p><img alt="HOW" src="/images/meetup-devops-meetup-wsbc-pipeline-story-how-5.png"></p>
</blockquote>
<h2>A peek through a Software Development Engineers' Lens</h2>
<p><img alt="Said Akram" src="/images/Said-mug.jpeg"></p>
<p>Said delivered a great demo of our 2nd Generation App-type CI/CD blueprint, which we are previewing in two engineering environments. It was such a great demo, that I completely forgot to take screenshots.</p>
<p>Watch the recording on <a href="https://www.meetup.com/DevOps-Vancouver-BC-Canada/events/278727555/">DevOps Vancouver Meetup: June 2021</a>, once it is published, and auto-forward to Said's demo. You will be mesmerized!</p>
<hr>
<p>We also asked Kevin, why pipelines are so important to security and why he has been smiling from ear to ear, ever since the blueprints emerged from the pipeline working group.</p>
<h2>A peek through a Security Engineer's Lens</h2>
<p><img alt="Kevin Schwantje" src="/images/Kevin-mug.jpeg"></p>
<p>Time to invite our security lifeline. Kevin answered two of my questions and much more:</p>
<ul>
<li>Can you give us an insight into your world and explain why are the pipelines so important to security? </li>
<li>Could you enlighten us, why you been smiling from ear to ear, ever since the blueprints emerged from the pipeline working group?</li>
</ul>
<blockquote>
<p><img alt="DEVSECOPS.1" src="/images/meetup-devsecops-meetup-wsbc-pipeline-story-1.png"></p>
<p><img alt="DEVSECOPS.2" src="/images/meetup-devsecops-meetup-wsbc-pipeline-story-2.png"></p>
</blockquote>
<hr>
<h1>What is next?</h1>
<p>Hopefully, we will return to the meetup with the automation success stories soon. We will demonstrate that it takes seconds, not minutes, hours to days, to create a new repository, add sample code, 2nd generation app-type blueprint-based CI/CD pipeline, tie everything together, and queue a continuous integration build for the newly created environment.</p>
<blockquote>
<p><img alt="Poster" src="/images/moving-hundreds-of-pipeline-snowflakes-qr-1-2.png"></p>
<p>DOWNLOAD &gt;&gt; <a href="/documents/devops-meetup-wsbc-pipeline-story.pdf">devops-meetup-wsbc-pipeline-story deck</a></p>
<p>DOWNLOAD &gt;&gt; <a href="/documents/devsecops-pipeline-presentation.pdf">devsecops-pipeline-presentation.pdf</a></p>
</blockquote>
<p>If you have any question or feedback, please ping us on twitter <a href="https://twitter.com/saidakram007">@saidakram007</a>, <a href="https://twitter.com/604kev">@604kev</a>, and <a href="https://twitter.com/wpschaub">@wpschaub</a></p>
<h1>Feedback from the peanut gallery</h1>
<p>I had a good fortune to attend the DevOps Meetup session that Willy described above. As an innocent bystander, I'd only like to add a couple of observations:</p>
<p>Willy's explanation regarding minimizing waste is spot on. We do not want to spin off hundreds or thousands unique infrastructure solutions. Computing infrastructure is a commodity (i.e. dime-a-dozen) and it is therefore truly wateful to burn precious engineering cycles in re-inventing the wheel, so to speak. Willy and the crew are working hard on commoditizing all aspects of the infrastructure-as-code so that the engineers could sharpen their focus on making changes that are not available elsewhere (i.e. not commoditized on the market).</p>
<p>Willy did, however, point out the fact that innovation is crucial, and that engineers are empowered (and advised) to work on improving the offered commodities. That's the true value stream delivery -- work smarter, not harder.</p>
<p>Finally, the strongest takeaway from the session (for me, at least) was the conclusion that security concerns must become top of the mind for every engineer. Before making any changes to the system, the first thing we should ask ourselves is: "Is this change secure? Is it testable by running automated tests?" Only after we prove it to ourselves and to our coworkers that the change is secure and fully testable, should we continue making the desired change.</p>
<p>Overall, this was a fantastic session; looking forward to part 2! (Alex Bunardzic)</p>
        </div>
    </section>
    <footer class="footer-article">
        <div class="tags-and-categories">Filed under <a href="/category/events.html">Events</a>
        | Tagged: <a href="/tag/azure-devops.html">azure-devops </a><a href="/tag/pipelines.html">pipelines </a><a href="/tag/devops.html">devops </a>
        | <a href="/meetup-devops-meetup-wsbc-pipeline-story.html" rel="bookmark"
         title="Permalink to Why we should (not) care about Pipelines!?!">Permalink</a>            
        </div>
        <!-- metaldata 
        -->
    </footer>
    <!-- disqus  -->
</div>
            </div>
            <div class="large-2 aside column">
                <h3>Links</h3>
                <ul>
                    <li><a href="https://www.worksafebc.com/en">WorkSafeBC</a></li>
                    <li><a href="https://www.worksafebc.com/en/about-us/news-events/campaigns/2019/September/connect-to-an-it-career-with-a-difference">WorkSafeBC IT is hiring</a></li>
                    <li><a href="https://www.worksafebc.com/en/about-us/careers">Careers</a></li>
                    <li><a href="https://wsbctechnicalblog.github.io/feeds/posts.atom.xml">ATOM/RSS Feed</a></li>
                </ul>
            </div>
         </div>
    </div>
</div>
    <div class="footer">
        <div class="data-holder">
        <div class="row">
            <div class="large-3 column">
<div class="credits">
    <h3>WorkSafeBC</h3>
    <p><a href="/pages/copyright.html">Copyright</a>&nbsp;|<br /><a href="/pages/terms-of-use.html">Terms&nbsp;and&nbsp;Conditions</a></p>
</div>           </div>
           <div class="large-6 tag-cloud column">
                <h3>Tags</h3>
                <ul>
                    <li><a href="/tag/strategy.html">strategy</a>(1)</li>
                    <li><a href="/tag/planning.html">planning</a>(1)</li>
                    <li><a href="/tag/learning.html">learning</a>(16)</li>
                    <li><a href="/tag/quality.html">quality</a>(10)</li>
                    <li><a href="/tag/technical-excellence.html">technical-excellence</a>(5)</li>
                    <li><a href="/tag/value.html">value</a>(2)</li>
                    <li><a href="/tag/process.html">process</a>(2)</li>
                    <li><a href="/tag/flow.html">flow</a>(1)</li>
                    <li><a href="/tag/lean.html">lean</a>(3)</li>
                    <li><a href="/tag/customer-centric.html">customer-centric</a>(1)</li>
                    <li><a href="/tag/azure-devops.html">azure-devops</a>(30)</li>
                    <li><a href="/tag/eliminate-waste.html">eliminate-waste</a>(9)</li>
                    <li><a href="/tag/pipelines.html">pipelines</a>(32)</li>
                    <li><a href="/tag/tips.html">tips</a>(12)</li>
                    <li><a href="/tag/ceremony.html">ceremony</a>(6)</li>
                    <li><a href="/tag/devops.html">devops</a>(34)</li>
                    <li><a href="/tag/posters.html">posters</a>(9)</li>
                    <li><a href="/tag/collaboration.html">collaboration</a>(1)</li>
                    <li><a href="/tag/psychological-safety.html">psychological-safety</a>(1)</li>
                    <li><a href="/tag/dojo.html">dojo</a>(1)</li>
                    <li><a href="/tag/delivery-on-demand.html">delivery-on-demand</a>(1)</li>
                    <li><a href="/tag/continuous-delivery.html">continuous-delivery</a>(1)</li>
                    <li><a href="/tag/tdd.html">tdd</a>(11)</li>
                    <li><a href="/tag/testing.html">testing</a>(13)</li>
                    <li><a href="/tag/testability.html">testability</a>(1)</li>
                    <li><a href="/tag/automation.html">automation</a>(7)</li>
                    <li><a href="/tag/system-programming.html">system-programming</a>(1)</li>
                    <li><a href="/tag/design.html">design</a>(1)</li>
                    <li><a href="/tag/code-quality.html">code-quality</a>(1)</li>
                    <li><a href="/tag/x-as-code.html">x-as-code</a>(15)</li>
                    <li><a href="/tag/version-control.html">version-control</a>(2)</li>
                    <li><a href="/tag/agile.html">agile</a>(19)</li>
                    <li><a href="/tag/engineering.html">engineering</a>(4)</li>
                    <li><a href="/tag/innovation.html">innovation</a>(1)</li>
                    <li><a href="/tag/architecture.html">architecture</a>(4)</li>
                    <li><a href="/tag/xp.html">xp</a>(5)</li>
                    <li><a href="/tag/code.html">code</a>(21)</li>
                    <li><a href="/tag/events.html">events</a>(3)</li>
                    <li><a href="/tag/security.html">security</a>(1)</li>
                    <li><a href="/tag/feature-flags.html">feature-flags</a>(3)</li>
                    <li><a href="/tag/workflow.html">workflow</a>(1)</li>
                    <li><a href="/tag/azure.html">azure</a>(1)</li>
                </ul>
            </div>
            <div class="large-3 category-column column">
                <h3>Categories</h3>
                <ul>
                    <li class="active"><a href="/category/events.html">Events</a> (7)</li>
                    <li><a href="/category/posts.html">Posts</a> (83)</li>
                </ul>
             
            </div>
        </row>
        </div>
    </div>
</body>
</html>