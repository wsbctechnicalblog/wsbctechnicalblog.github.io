<!doctype html>
<html class="no-js" lang="en">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="Permissions-Policy" content="interest-cohort=()"/>
        <link rel="stylesheet" href="https://wsbctechnicalblog.github.io/theme/css/foundation.min.css" media="all">
        <script type="text/javascript" src="https://wsbctechnicalblog.github.io/theme/js/modernizr.js"></script>
        <link href='https://fonts.googleapis.com/css?family=Exo+2:400,300,700,300italic,400italic,700italic,900,900italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://wsbctechnicalblog.github.io/theme/css/lamboz.css" media="all">
        <title>AI Assisted Development – Taming Azure Pipeline YAML - </title>
        <meta charset="utf-8" />
        
</head>
<body>
    <div class="pages">
        <ul>
            <li class="home"><a href="https://wsbctechnicalblog.github.io/index.html">Home</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/about.html">About</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/authors.html">Authors</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/copyright.html">Copyright</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/privacy.html">Privacy and Security</a></li>
            <li ><a href="https://wsbctechnicalblog.github.io/pages/terms-of-use.html">Terms of Use</a></li>
        </ul>
    </div>
<div class="hp-header-inner">
    <div class="page-header">
        <div class="content-header">
        </div>
    </div>
</div>
    <div class="content">
        <div class="data-holder">
        <div class="row">
           <div class="large-10 content-column column">
    <h1 style="font-size:2em;"><a href="https://wsbctechnicalblog.github.io/ai-assisted-dev-taming-azdo-yaml.html" rel="bookmark"
            title="Permalink to AI Assisted Development – Taming Azure Pipeline YAML">AI Assisted Development – Taming Azure Pipeline YAML</a></h1>

<img src="/theme/img/Logo-blogsize.png"><br />
<div class="content-article">
    <header class="header-article">
        <div class="read-more">Posted by Willy-Peter Schaub on Wed 17 December 2025</div>
 
   </header>
    <section class='article'>
        
        <div class="entry-summary">
            <p>Artificial Intelligence has touched down with the thunderous impact of an asteroid colliding with our moon …</p>
        </div>
    
        <div class="entry-content">
            <p>Our organization and teams are enthusiastically engaging with developments in Copilots Generative AI, AI Agents, Agentic AI, and Vibe Coding. To promote clear communication, I would like to outline my perspective on the distinctions between these evolving technologies.</p>
<ul>
<li><strong>Generative AI (GenAI)</strong>: Models that generate content based on patterns in response to a prompt, based on training delivered. Generative AI is <strong>reactive</strong>.</li>
<li><strong>AI Agents</strong>: Autonomous software entities (agents) that can act on your behalf, make decisions, and assist you to complete often manual and mind-numbing tasks. An AI Agent is <strong>autonomous</strong>.</li>
<li><strong>Agentic AI</strong>: When you move to multiple collaborative agents, you get goal oriented, proactive, and autonomous software entities that can be proactive and collaborative orchestrators. Agentic AI is based on <strong>multi-agents</strong>.</li>
<li><strong>Vibe Coding</strong>: A prompt first, intent driven development workflow. Using prompts, patterns, and AI suggestions, rather than manually hand crafting every line, we can speed up the generation of code and reduce the development cycle time. But … we often forget that coding is just one piece of the software lifecycle and often get bogged down in governance and operational processes.</li>
</ul>
<blockquote>
<p>Adopt new technologies where they are beneficial, ensuring your engineers, governance, processes, and products are ready and able to keep up. Also, I recommend that you always keep an eye on where the technologies are on the technology maturity curve - I, for one, have been burnt many times getting excited about stuff that is in the <code>emerging</code> and <code>crawl</code> phase of the curve.
</p>
</blockquote>
<h1>Back to Azure Pipeline YAML</h1>
<p>I have just finished updating our Azure DevOps CI/CD Pipeline Blueprints in <a href="https://github.com/WorkSafeBC-Common-Engineering">WorkSafeBC-Common-Engineering</a> to enhance how Agent Pools and related Virtual Machines are defined with better conditional logic. GitHub Copilot's suggestions made it quick to implement these changes, and I gained valuable insights from interacting with it. I am now convinced of the power of <code>Generative AI</code> and highly encourage all engineers to explore its capabilities as well as recognize its potential pitfalls.</p>
<p>My next step with AI had an even greater impact. I asked Copilot: “<em>Can you validate the azure pipeline YAML code in the <code>__101__</code> folder? Focus on the conditional logic, especially when calling the pool.</em>”</p>
<blockquote>
<p><img alt="Human and AI Copilot" src="../images/ai-assisted-dev-taming-azdo-yaml-1.jpg"> </p>
</blockquote>
<p>Here is the copilot’s response – verbatim:</p>
<div class="highlight"><pre><span></span><code><span class="n">Optimizing</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="n">selection</span><span class="p">...</span>

<span class="n">Plan</span><span class="o">:</span><span class="w"> </span><span class="n">I’ll</span><span class="w"> </span><span class="n">scan</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">101</span><span class="w"> </span><span class="n">YAMLs</span><span class="p">,</span><span class="w"> </span><span class="k">analyze</span><span class="w"> </span><span class="n">conditional</span><span class="w"> </span><span class="n n-Quoted">`pool`</span><span class="w"> </span><span class="k">usage</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">logic</span><span class="p">,</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">summarize</span><span class="w"> </span><span class="k">any</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">recommendations</span><span class="p">.</span>

<span class="n">Progress</span><span class="o">:</span><span class="w"> </span><span class="n">I’ve</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">101</span><span class="w"> </span><span class="n">CI</span><span class="o">/</span><span class="n">CD</span><span class="w"> </span><span class="n">YAML</span><span class="w"> </span><span class="n">files</span><span class="p">.</span><span class="w"> </span><span class="k">Next</span><span class="p">,</span><span class="w"> </span><span class="n">I’ll</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">conditional</span><span class="w"> </span><span class="n">logic</span><span class="w"> </span><span class="n">findings</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">fixes</span><span class="p">.</span>

<span class="n">Findings</span>

<span class="n">•</span><span class="w"> </span><span class="n">CI</span><span class="w"> </span><span class="n">stage</span><span class="w"> </span><span class="n n-Quoted">`pool`</span><span class="w"> </span><span class="n">logic</span><span class="o">:</span><span class="w"> </span><span class="n">Correctly</span><span class="w"> </span><span class="n">conditional</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">azure</span><span class="o">-</span><span class="n">pipeline</span><span class="o">-</span><span class="n">__101__</span><span class="o">-</span><span class="n">ci</span><span class="p">.</span><span class="n">yml</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stage</span><span class="o">-</span><span class="k">level</span><span class="w"> </span><span class="n n-Quoted">`pool`</span><span class="w"> </span><span class="n">uses</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`${{ if ne(parameters.vmImage, &#39;&#39;) }}:`</span><span class="w"> </span><span class="k">set</span><span class="n">s</span><span class="w"> </span><span class="k">name</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`vmImage`</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>
<span class="w">         </span><span class="n">Microsoft</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">agents</span><span class="p">.</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`${{ else }}:`</span><span class="w"> </span><span class="k">set</span><span class="n">s</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="k">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">self</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">agents</span><span class="w"> </span><span class="p">(</span><span class="k">no</span><span class="w"> </span><span class="n n-Quoted">`vmImage`</span><span class="p">).</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">Azure</span><span class="w"> </span><span class="n">DevOps</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="n">expression</span><span class="w"> </span><span class="k">usage</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">correctly</span><span class="w"> </span><span class="n">handles</span><span class="w"> </span>
<span class="w">      </span><span class="n">self</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">agents</span><span class="w"> </span><span class="p">(</span><span class="n">which</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n n-Quoted">`vmImage`</span><span class="p">).</span>

<span class="n">•</span><span class="w"> </span><span class="n">CD</span><span class="w"> </span><span class="n">stage</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="n n-Quoted">`pool `</span><span class="n">logic</span><span class="o">:</span><span class="w"> </span><span class="n">Correctly</span><span class="w"> </span><span class="n">conditional</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n n-Quoted">`azure-pipeline-__101__-cd-stage.yml`</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stage</span><span class="o">-</span><span class="k">level</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">uses</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`${{ if ne(parameters.config.nameVM, &#39;&#39;) }}:`</span><span class="w"> </span><span class="k">set</span><span class="n">s</span><span class="w"> </span><span class="n n-Quoted">`name`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`vmImage`</span><span class="p">.</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`${{ else }}:`</span><span class="w"> </span><span class="k">set</span><span class="n">s</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n n-Quoted">`name`</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">Works</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">self</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">pools</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n n-Quoted">`nameVM`</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">empty</span><span class="p">.</span>

<span class="n">•</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">wiring</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">parameters</span><span class="o">:</span><span class="w"> </span><span class="n">Sound</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n n-Quoted">`coalesce`</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">azure</span><span class="o">-</span><span class="n">pipeline</span><span class="o">-</span><span class="n">__101__</span><span class="o">-</span><span class="n">control</span><span class="p">.</span><span class="n">yml</span><span class="p">,</span><span class="w"> </span><span class="n">CI</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n n-Quoted">`jobPool`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`vmImage`</span><span class="w"> </span>
<span class="w">      </span><span class="k">from</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="k">variables</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">defaults</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`jobPool: ${{ coalesce(variables.ciStagePool, &#39;Azure Pipelines&#39;) }}`</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`vmImage: ${{ coalesce(variables.ciStageVmImage, &#39;ubuntu-latest&#39;) }}`</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">CD</span><span class="w"> </span><span class="n">stage</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="n">receives</span><span class="w"> </span><span class="n n-Quoted">`namePool`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`nameVM`</span><span class="w"> </span><span class="n">similarly</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">each</span><span class="w"> </span>
<span class="w">      </span><span class="n">environment</span><span class="p">,</span><span class="w"> </span><span class="n">ensuring</span><span class="w"> </span><span class="n">hosted</span><span class="w"> </span><span class="n">agents</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">self</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">omit</span><span class="w"> </span><span class="n">it</span><span class="w"> </span>
<span class="w">      </span><span class="k">by</span><span class="w"> </span><span class="k">set</span><span class="n">ting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">corresponding</span><span class="w"> </span><span class="n n-Quoted">`*StageVmImage`</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">empty</span><span class="p">.</span>

<span class="n">•</span><span class="w"> </span><span class="n">Branch</span><span class="o">/</span><span class="n">depends</span><span class="w"> </span><span class="n">conditionals</span><span class="o">:</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="k">found</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`pool`</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="k">All</span><span class="w"> </span><span class="n n-Quoted">`${{ if ... }}`</span><span class="w"> </span><span class="n">expressions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">compile</span><span class="o">-</span><span class="kt">time</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="n">expressions</span><span class="p">,</span><span class="w"> </span>
<span class="w">      </span><span class="n">correctly</span><span class="w"> </span><span class="n">placed</span><span class="w"> </span><span class="k">at</span><span class="w"> </span><span class="n">stage</span><span class="o">/</span><span class="n">template</span><span class="w"> </span><span class="n">levels</span><span class="p">.</span>

<span class="n">Notable</span><span class="w"> </span><span class="n">inconsistencies</span><span class="w"> </span><span class="p">(</span><span class="k">not</span><span class="w"> </span><span class="n">breaking</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">logic</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">fix</span><span class="p">)</span>

<span class="n">•</span><span class="w"> </span><span class="n">Misnamed</span><span class="w"> </span><span class="k">variables</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">security</span><span class="w"> </span><span class="n">review</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">config</span><span class="o">:</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="k">In</span><span class="w"> </span><span class="n">azure</span><span class="o">-</span><span class="n">pipeline</span><span class="o">-</span><span class="n">__101__</span><span class="o">-</span><span class="n">config</span><span class="p">.</span><span class="n">yml</span><span class="p">,</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">“Security</span><span class="w"> </span><span class="n">Review</span><span class="w"> </span><span class="n">Stage</span><span class="w"> </span><span class="c1">#910188”,</span>
<span class="w">      </span><span class="n">it</span><span class="w"> </span><span class="n">defines</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`productionCanadaEastStagePool`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`productionCanadaEastStageVmImage`</span><span class="w"> </span>
<span class="w">         </span><span class="n">rather</span><span class="w"> </span><span class="k">than</span><span class="w"> </span><span class="n n-Quoted">`securityReviewStagePool`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`securityReviewStageVmImage`</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">Impact</span><span class="o">:</span><span class="w"> </span><span class="n n-Quoted">`securityReviewStagePool/securityReviewStageVmImage`</span><span class="w"> </span><span class="n">resolve</span><span class="w"> </span><span class="n">via</span><span class="w"> </span>
<span class="w">      </span><span class="k">coalesce</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">defaults</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">pipelines</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="k">work</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">file</span><span class="w"> </span><span class="k">is</span><span class="w"> </span>
<span class="w">      </span><span class="n">misleading</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">Recommendation</span><span class="o">:</span><span class="w"> </span><span class="k">Rename</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="k">usage</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`securityReviewStagePool: &#39;Azure Pipelines&#39;`</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="n n-Quoted">`securityReviewStageVmImage: &#39;ubuntu-latest&#39;`</span>

<span class="n">•</span><span class="w"> </span><span class="n">Env</span><span class="w"> </span><span class="k">names</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">Security</span><span class="o">/</span><span class="n">QA</span><span class="o">/</span><span class="n">PreProd</span><span class="w"> </span><span class="n">automation</span><span class="o">:</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="k">All</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n n-Quoted">`&#39;&lt;portfolio&gt;-security-review-sr&#39;`</span><span class="p">.</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">intentional</span><span class="p">,</span><span class="w"> </span><span class="n">fine</span><span class="p">;</span><span class="w"> </span>
<span class="w">      </span><span class="n">otherwise</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="n n-Quoted">`*-EnvName`</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">stage</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">clarity</span><span class="p">.</span><span class="w"> </span><span class="n">This</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="k">not</span><span class="w"> </span>
<span class="w">      </span><span class="n">affect</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">logic</span><span class="p">.</span>

<span class="k">Validation</span><span class="w"> </span><span class="n">summary</span>

<span class="n">•</span><span class="w"> </span><span class="n">Conditional</span><span class="w"> </span><span class="n n-Quoted">`pool`</span><span class="w"> </span><span class="k">usage</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">CI</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">CD</span><span class="w"> </span><span class="n">stage</span><span class="w"> </span><span class="n">templates</span><span class="o">:</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">Hosted</span><span class="w"> </span><span class="n">agents</span><span class="o">:</span><span class="w"> </span><span class="k">both</span><span class="w"> </span><span class="n n-Quoted">`name`</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n n-Quoted">`vmImage`</span><span class="w"> </span><span class="n">provided</span><span class="p">.</span>
<span class="w">    </span><span class="n">o</span><span class="w"> </span><span class="n">Self</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">agents</span><span class="o">:</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n n-Quoted">`name`</span><span class="w"> </span><span class="n">provided</span><span class="p">.</span>

<span class="n">•</span><span class="w"> </span><span class="n">Controls</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="k">values</span><span class="w"> </span><span class="n">appropriately</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">safe</span><span class="w"> </span><span class="n">defaults</span><span class="p">.</span>

<span class="n">•</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="n">syntactic</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="n">detected</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">Azure</span><span class="w"> </span><span class="n">DevOps</span><span class="w"> </span><span class="n">template</span><span class="w"> </span><span class="n">expressions</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>
<span class="w">  </span><span class="n n-Quoted">`pool`</span><span class="w"> </span><span class="n">conditionals</span><span class="p">.</span>

<span class="n">Recommendations</span>

<span class="n">•</span><span class="w"> </span><span class="n">Fix</span><span class="w"> </span><span class="n">misnamed</span><span class="w"> </span><span class="k">variables</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">Security</span><span class="w"> </span><span class="n">Review</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span>
<span class="w">  </span><span class="n">confusion</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">explicit</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="k">over</span><span class="w"> </span><span class="n">pool</span><span class="o">/</span><span class="n">image</span><span class="p">.</span>

<span class="n">•</span><span class="w"> </span><span class="k">If</span><span class="w"> </span><span class="n">targeting</span><span class="w"> </span><span class="n">self</span><span class="o">-</span><span class="n">hosted</span><span class="w"> </span><span class="n">agents</span><span class="p">,</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n n-Quoted">`*StageVmImage`</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stage</span><span class="w"> </span>
<span class="w">  </span><span class="k">to</span><span class="w"> </span><span class="k">empty</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">config</span><span class="p">;</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">logic</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">correctly</span><span class="w"> </span><span class="n">omit</span><span class="w"> </span>
<span class="w">  </span><span class="n n-Quoted">`vmImage`</span><span class="p">.</span>

<span class="n">Would</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="n">me</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">patch</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="k">names</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">azure</span><span class="o">-</span><span class="n">pipeline</span><span class="o">-</span><span class="n">__101__</span><span class="o">-</span><span class="n">config</span><span class="p">.</span><span class="n">yml</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">template</span><span class="nv">?</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="k">only</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="k">leave</span><span class="w"> </span><span class="n">everything</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">unchanged</span><span class="p">.</span>
</code></pre></div>

<h1>Why am I excited?</h1>
<p>I am not excited by the concatenations used by the copilot - but that is a chat for another day.</p>
<p>If you have used Azure Pipelines with YAML, you know how tricky syntax and spacing can be, and how challenging it is to troubleshoot errors. Reviewing the copilot response for <strong>Notable inconsistencies (not breaking pool logic, but good to fix)</strong>, I found actionable suggestions that helped me address issues I might have missed. After updating the code as advised, I re-validated with copilot and completed the changes confidently, ready for regression testing.</p>
<blockquote>
<p>Thank you Copilot, you rock!
</p>
<p><img alt="Human and AS Copilot high-five" src="../images/ai-assisted-dev-taming-azdo-yaml-2.jpg"> </p>
</blockquote>
        </div>

    </section>
    <footer class="footer-article">
        <div class="tags-and-categories">Filed under <a href="https://wsbctechnicalblog.github.io/category/posts.html">Posts</a>
        | Tagged: <a href="https://wsbctechnicalblog.github.io/tag/ai.html">ai </a><a href="https://wsbctechnicalblog.github.io/tag/engineering.html">engineering </a>
        | <a href="https://wsbctechnicalblog.github.io/ai-assisted-dev-taming-azdo-yaml.html" rel="bookmark"
         title="Permalink to AI Assisted Development – Taming Azure Pipeline YAML">Permalink</a>            
        </div>
        <!-- metaldata 
        -->
    </footer>
        <hr>
        <div id="gisqus_thread"></div>
        <script src="https://giscus.app/client.js"
            data-repo="WorkSafeBC-Common-Engineering/Common.Engineering.Discussion"
            data-repo-id="R_kgDOIGjt-Q"
            data-category="Technical Blog"
            data-category-id="DIC_kwDOIGjt-c4CU007"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="light"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
        </script></div>
            </div>
            <div class="large-2 aside column">
                <h3>Links</h3>
                <ul>
                    <li><a href="https://www.worksafebc.com/en">WorkSafeBC</a></li>
                    <li><a href="https://www.worksafebc.com/en/about-us/news-events/campaigns/2019/September/connect-to-an-it-career-with-a-difference">WorkSafeBC IT is hiring</a></li>
                    <li><a href="https://www.worksafebc.com/en/about-us/careers">Careers</a></li>
                    <li><a href="https://wsbctechnicalblog.github.io/feeds/posts.atom.xml">ATOM/RSS Feed</a></li>
                </ul>
            </div>
         </div>
    </div>
</div>
    <div class="footer">
        <div class="data-holder">
        <div class="row">
            <div class="large-3 column">
<div class="credits">
    <h3>WorkSafeBC</h3>
    <p><a href="/pages/copyright.html">Copyright</a>&nbsp;|<br /><a href="/pages/terms-of-use.html">Terms&nbsp;and&nbsp;Conditions</a></p>
</div>           </div>
           <div class="large-6 tag-cloud column">
                <h3>Tags</h3>
                <ul>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/engineering.html">engineering</a>(77)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/azure-devops.html">azure-devops</a>(99)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/version-control.html">version-control</a>(5)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/ai.html">ai</a>(24)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/learning.html">learning</a>(55)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/journal.html">journal</a>(13)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/books.html">books</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/automation.html">automation</a>(26)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/coop.html">coop</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/tips.html">tips</a>(30)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/code-quality.html">code-quality</a>(16)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/pipelines.html">pipelines</a>(66)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/feature-flags.html">feature-flags</a>(4)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/devops.html">devops</a>(55)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/agile.html">agile</a>(36)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/code.html">code</a>(27)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/technical-excellence.html">technical-excellence</a>(21)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/event.html">event</a>(10)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/posters.html">posters</a>(11)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/101.html">101</a>(8)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/eliminate-waste.html">eliminate-waste</a>(24)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/ceremony.html">ceremony</a>(8)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/quality.html">quality</a>(19)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/oss.html">oss</a>(6)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/github.html">github</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/standards.html">standards</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/azure.html">azure</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/water-cooler.html">water-cooler</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/innovation.html">innovation</a>(7)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/design.html">design</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/testing.html">testing</a>(15)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/release.html">release</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/x-as-code.html">x-as-code</a>(16)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/book.html">book</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/metrics.html">metrics</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/continuous-delivery.html">continuous-delivery</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/delivery-on-demand.html">delivery-on-demand</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/architecture.html">architecture</a>(5)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/collaboration.html">collaboration</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/team-building.html">team-building</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/no-estimates.html">no-estimates</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/tdd.html">TDD</a>(12)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/estimates.html">estimates</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/strategy.html">strategy</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/planning.html">planning</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/value.html">value</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/process.html">process</a>(2)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/flow.html">flow</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/lean.html">lean</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/customer-centric.html">customer-centric</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/psychological-safety.html">psychological-safety</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/dojo.html">dojo</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/testability.html">testability</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/system-programming.html">system-programming</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/xp.html">xp</a>(5)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/events.html">events</a>(3)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/security.html">security</a>(1)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/tag/workflow.html">workflow</a>(1)</li>
                </ul>
            </div>
            <div class="large-3 category-column column">
                <h3>Categories</h3>
                <ul>
                    <li><a href="https://wsbctechnicalblog.github.io/category/events.html">Events</a> (10)</li>
                    <li><a href="https://wsbctechnicalblog.github.io/category/misc.html">misc</a> (2)</li>
                    <li class="active"><a href="https://wsbctechnicalblog.github.io/category/posts.html">Posts</a> (242)</li>
                </ul>
             
            </div>
        </row>
        </div>
    </div>
</body>
</html>